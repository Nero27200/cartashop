<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CataShop - Gestion de collection Panini Adrenalyn XL Ligue 1 2025-26. GÃ©rez vos 471 cartes, vendez et achetez en toute sÃ©curitÃ© sur notre marketplace.">
  <title>CataShop - Gestion de collection Panini Adrenalyn XL Ligue 1 2025-26</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header role="banner">
    <div class="header-content">
      <div class="logo" aria-label="CataShop - Logo">ğŸ´ CataShop</div>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Chercher une carte, un joueur, un club..." aria-label="Rechercher une carte">
      </div>
      <div class="header-stats">
        <div class="stat" aria-live="polite" aria-label="Ma collection">
          <div class="stat-label">Ma Collection</div>
          <div class="stat-value" id="collectionCount" aria-live="polite">0</div>
        </div>
        <div class="stat" aria-live="polite" aria-label="Cartes Ã  vendre">
          <div class="stat-label">En Vente</div>
          <div class="stat-value" id="forSaleCount" style="color: var(--gold);">0</div>
        </div>
        <div class="stat" aria-label="Mon panier">
          <div class="stat-label">Mon Panier</div>
          <div class="cart-icon" role="button" tabindex="0" onclick="toggleCart()" onkeypress="if(event.key==='Enter') toggleCart()" aria-label="Ouvrir le panier">
            ğŸ›’
            <span class="cart-badge" id="cartCount" style="display:none;">0</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Filters & Tabs -->
  <div class="filters-container">
    <div class="filters">
      <nav aria-label="Navigation principale">
        <div style="display: flex; gap: 0.5rem; margin-right: auto;">
          <button class="tab-btn active" onclick="switchTab('shop', this)" aria-label="Voir la boutique" aria-selected="true">ğŸ¬ Boutique</button>
          <button class="tab-btn" onclick="switchTab('collection', this)" aria-label="Voir ma collection" aria-selected="false">ğŸ“š Ma Collection</button>
          <button class="tab-btn" onclick="switchTab('forsale', this)" aria-label="Voir mes cartes Ã  vendre" aria-selected="false">ğŸ’° Ã€ Vendre</button>
          <button class="tab-btn" onclick="switchTab('add', this)" aria-label="Ajouter une carte" aria-selected="false">â• Ajouter Carte</button>
        </div>
      </nav>
      <div class="filter-group">
        <label for="clubFilter" class="filter-label">Club:</label>
        <select id="clubFilter" onchange="applyFilters()" aria-label="Filtrer par club">
          <option value="">Tous les clubs</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="typeFilter" class="filter-label">Type:</label>
        <select id="typeFilter" onchange="applyFilters()" aria-label="Filtrer par type">
          <option value="">Tous les types</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="positionFilter" class="filter-label">Poste:</label>
        <select id="positionFilter" onchange="applyFilters()" aria-label="Filtrer par poste">
          <option value="">Tous les postes</option>
        </select>
      </div>
      <button class="sort-btn" onclick="sortBy('price-low')" aria-label="Trier par prix croissant">Prix â†‘</button>
      <button class="sort-btn" onclick="sortBy('price-high')" aria-label="Trier par prix dÃ©croissant">Prix â†“</button>
    </div>
  </div>

  <!-- Main Content -->
  <main class="container" role="main">
    <h1 style="position: absolute; width: 1px; height: 1px; overflow: hidden;">CataShop - Gestion de collection Panini Adrenalyn XL</h1>
    
    <!-- Tab: Shop -->
    <section id="shop-tab" class="tab-content active" aria-labelledby="shop-heading">
      <h2 id="shop-heading" class="section-title">ğŸ¬ Toutes les Cartes</h2>
      <div class="stats-bar" role="region" aria-label="Statistiques de la boutique">
        <div class="stat-card">
          <div class="stat-label">Cartes Disponibles</div>
          <div class="stat-value" id="shopTotal">471</div>
        </div>
        <div class="stat-card green">
          <div class="stat-label">Prix Moyen</div>
          <div class="stat-value" id="avgPrice">1.23â‚¬</div>
        </div>
        <div class="stat-card gold">
          <div class="stat-label">Cartes Rares</div>
          <div class="stat-value" id="rareCount">50+</div>
        </div>
      </div>
      <div class="cards-grid" id="cardsGrid" role="region" aria-label="Grille de cartes">
        <div class="loading">Chargement des cartes...</div>
      </div>
    </section>

    <!-- Tab: Collection -->
    <section id="collection-tab" class="tab-content" style="display:none;" aria-labelledby="collection-heading">
      <h2 id="collection-heading" class="section-title">ğŸ“š Ma Collection</h2>
      <div class="collection-stats" id="collectionStats" role="region" aria-label="Statistiques de collection"></div>
      <div class="cards-grid" id="collectionGrid" role="region" aria-label="Cartes de la collection">
        <div class="loading">Votre collection est vide. Commencez Ã  acheter des cartes!</div>
      </div>
    </section>

    <!-- Tab: For Sale -->
    <section id="forsale-tab" class="tab-content" style="display:none;" aria-labelledby="forsale-heading">
      <h2 id="forsale-heading" class="section-title">ğŸ’° Cartes Ã€ Vendre</h2>
      <div class="cards-grid" id="forSaleGrid" role="region" aria-label="Cartes Ã  vendre">
        <div class="loading">Aucune carte Ã  vendre pour le moment</div>
      </div>
    </section>

    <!-- Tab: Add Card -->
    <section id="add-tab" class="tab-content" style="display:none;" aria-labelledby="add-heading">
      <h2 id="add-heading" class="section-title">â• Ajouter une Carte Ã  Votre Collection</h2>
      <form class="add-card-form" onsubmit="handleFormSubmit(event)">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
          <div class="form-group">
            <label for="cardName">Nom du Joueur</label>
            <input type="text" id="cardName" placeholder="Ex: Kylian MbappÃ©" required>
          </div>
          <div class="form-group">
            <label for="cardClub">Club</label>
            <input type="text" id="cardClub" placeholder="Ex: Paris Saint-Germain" required>
          </div>
          <div class="form-group">
            <label for="cardNumber">NumÃ©ro de carte</label>
            <input type="number" id="cardNumber" min="1" placeholder="Ex: 201" required>
          </div>
          <div class="form-group">
            <label for="cardType">Type de Carte</label>
            <select id="cardType" required>
              <option value="Base">Base</option>
              <option value="Rare">Rare</option>
              <option value="Diamant">Diamant</option>
              <option value="Ange Gardien">Ange Gardien</option>
              <option value="Influenceur">Influenceur</option>
              <option value="Duo de Choc">Duo de Choc</option>
              <option value="Champions">Champions</option>
            </select>
          </div>
          <div class="form-group">
            <label for="cardPosition">Poste</label>
            <select id="cardPosition">
              <option value="">Aucun</option>
              <option value="G">Gardien (G)</option>
              <option value="def">DÃ©fenseur (def)</option>
              <option value="mil">Milieu (mil)</option>
              <option value="att">Attaquant (att)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="cardPrice">Prix (â‚¬)</label>
            <input type="number" id="cardPrice" placeholder="0.00" step="0.01" min="0" required>
          </div>
          <div class="form-group">
            <label for="cardQuantity">QuantitÃ©</label>
            <input type="number" id="cardQuantity" value="1" min="1" required>
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="btn-primary" onclick="addToMyCollection()">â• Ajouter Ã  Ma Collection</button>
          <button type="button" class="btn-secondary" onclick="addAndSell()">ğŸ’° Ajouter et Mettre en Vente</button>
        </div>
      </form>
    </section>
  </main>

  <!-- Add Options Modal -->
  <div class="modal" id="addOptionModal" role="dialog" aria-modal="true" aria-labelledby="addOptionTitle">
    <div class="modal-content">
      <button class="close-modal" onclick="closeAddOptions()" aria-label="Fermer la modale">âœ•</button>
      <div class="modal-header" id="addOptionTitle">Choisir une action</div>
      <p style="margin-bottom: 1rem; color: var(--text-muted);">
        <strong id="optionCardName"></strong>
        <br>
        <span id="optionCardClub"></span>
        <br>
        <span id="optionCardPrice"></span>
      </p>
      <div style="display: grid; gap: 0.75rem;">
        <button class="btn-primary" onclick="addOptionToCart()">ğŸ›’ Ajouter au panier</button>
        <button class="btn-secondary" onclick="addOptionToCollection()">ğŸ“š Ajouter Ã  ma collection</button>
        <button class="btn-primary" style="background: var(--gold); color: var(--secondary);" onclick="addOptionToForSale()">ğŸ’° Ajouter et mettre en vente</button>
      </div>
    </div>
  </div>

  <!-- Cart Modal -->
  <div class="modal" id="cartModal" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
    <div class="modal-content">
      <button class="close-modal" onclick="toggleCart()" aria-label="Fermer le panier">âœ•</button>
      <div class="modal-header" id="cartTitle">Mon Panier ğŸ›’</div>
      <div id="cartItems"></div>
      <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid rgba(59, 130, 246, 0.3);">
        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; font-size: 1.2rem; font-weight: 700;">
          <span>Total:</span>
          <span style="color: var(--success);" id="totalPrice">0â‚¬</span>
        </div>
        <button onclick="checkout()" style="width: 100%; padding: 0.8rem; background: var(--success); border: none; border-radius: 8px; color: var(--secondary); font-weight: 700; cursor: pointer; font-size: 1rem;">âœ… ProcÃ©der au paiement</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer role="contentinfo">
    <p>Â© 2026 CataShop - La meilleure plateforme pour vos cartes de trading | InspirÃ©e de Sorare & Cooleka</p>
  </footer>
  
  <button class="fab-open-app" onclick="openApp()" aria-label="Ouvrir l'application">ğŸš€ Ouvrir l'application</button>

<script src="app.js"></script>
